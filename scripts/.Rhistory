setwd("~/Documents/AP/APMISC/soccer_analysis/Live/scripts")
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source("format_flairs.R")
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
library(urltools)
install.packages("urltools")
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(names_match, collapse = ", ")
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 6))
mode(c(5, 5, 6, 6, 7))
mode(c(5, 5, 6, 6, 7))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
names_match <- ux[which(count_match == max(count_match))]
print(names_match)
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(names_match, collapse = ", ")
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 7))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
print(count_match)
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(names_match, collapse = ", ")
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 7))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
print(count_match)
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(names_match, collapse = glue("({max(count_match)}), "))
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 7))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
print(count_match)
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(names_match, collapse = glue(" ({max(count_match)}), "))
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 7))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
print(count_match)
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(str_c(names_match, collapse = glue(", ")), glue(" ({max(count_match)})"))
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(5, 5, 6, 6, 7))
mode(c("james", "james", 6, 6, 7))
mode(c("james", "james", "tyrone", "tyrone", "tyrone"))
mode(c("james", "james", "tyrone", "tyrone", 5))
mode(c("james", "james", "tyrone", "tyrone", "k", "k", 5))
mode(c("james", "james", "tyrone", "tyrone", "k", "k", "l", "l", 5))
str_replace("james (keanu)"," *\\(.*?\\) *", "")
str_replace("james, james, (keanu)"," *\\(.*?\\) *", "")
str_replace("james, james (keanu)"," *\\(.*?\\) *", "")
str_replace("james, james (keanu)"," *\\(.*?\\) *")
setwd("~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts")
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
mode(c(1, 1, 1, 1, 1))
mode <- function(x) {
if ( length(x) <= 2 ) { return(x[1]) }
if ( anyNA(x) ) { x = x[!is.na(x)] }
ux <- unique(x)
count_match <- tabulate(match(x, ux))
names_match <- ux[which(count_match == max(count_match))]
name_thresh <- 3
if (length(names_match) == 1) {
names_match <- glue("{names_match} ({max(count_match)})")
}
else if (length(names_match) > 1 && length(names_match) <= name_thresh) {
names_match <- str_c(str_c(names_match, collapse = glue(", ")), glue(" ({max(count_match)})"))
}
else if (length(names_match) > name_thresh) {
names_match <- "X"
}
return(names_match)
}
mode(c(1, 1, 1, 1, 1))
mode(c(1, 1, 1, 1, 1, "2"))
mode(c(1, "2"))
mode(c("1", "1", "2"))
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
str_replace("John Jones (16)", " *\\(.*?\\) *", " ")
str_replace(glue("John Jones (16)"), " *\\(.*?\\) *", " ")
str_replace("John Jones (16)", " *\\(.*?\\) *", " ")
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
source('~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts/wiki_team_player_processing.R')
for (i in 1:length(countries$Country)) {
"# {countries$Country[i]}" %>% glue() %>% write_lines(md_filename, append = ifelse(i == 1, FALSE, TRUE), sep = "\n\n")
teams_split[[i]] %>% select(-Country) %>%
kable() %>% str_c(collapse = "\n") %>%
write_lines(md_filename, append = TRUE, sep = ifelse(i == length(countries$Country), "", "\n\n"))
}
setwd("~/Documents/AP/APMISC/soccer_analysis/Live/scripts")
setwd("~/Documents/AP/APMISC/soccer_analysis/Live/scripts")
source('~/Documents/AP/APMISC/soccer_analysis/Live/scripts/run_soccerway_match_threadder.R')
setwd("~/Documents/AP/APMISC/soccer_analysis/Wiki/scripts")
